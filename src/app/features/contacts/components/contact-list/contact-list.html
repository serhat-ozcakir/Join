
<div class="contact-list">
  <button class="add-btn" (click)="supabase.showForm.set(true)">
    <span class="add-btn-text">Add new contact</span>
    <img class="add-btn-icon" src="/assets/icons/add-contact.svg" alt="Add Contact">
  </button>

  @if (supabase.loading()) {
    <p>Loading...</p>
  }

  @for (group of groupedContacts(); track group.letter) {
    <div class="letter-separator">{{ group.letter }}</div>

    @for (contact of group.contacts; track contact.id) {
      <div
        class="contact-item"
        [class.selected]="supabase.selectedContact()?.id === contact.id"
        (click)="selectContact(contact)"
      >
 <div class="avatar" [style.background]="getAvatarColor(contact.name)">
          {{ getInitials(contact.name) }}
        </div>        <div class="info">
          <span class="name">{{ limitName(contact.name) }}</span>
          <span class="email">{{ limitName(contact.email) }}</span>
        </div>
      </div>
    }
  }
</div>
